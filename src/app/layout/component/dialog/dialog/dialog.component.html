<p-dialog
    [(visible)]="visible"
    [modal]="true"
    styleClass="p-fluid"
    [breakpoints]="{ '960px': '75vw' }"
    [style]="{ width: `${width}` }"
    (onHide)="onCancelClick()"
    [dismissableMask]="true"
>
    <ng-template pTemplate="header">
        <div class="flex justify-between items-center w-full">
            <span class="font-semibold text-xl">{{ header }}</span>
            @if (showConvertButton) {
                <p-button
                    [label]="convertLabel"
                    (onClick)="onConvertClick()"
                    icon="pi pi-sync"
                    styleClass="p-button-sm p-button-text"
                />
            }
        </div>
    </ng-template>

    <ng-template pTemplate="content">
        <ng-content></ng-content>
    </ng-template>

    @if (showFooter) {
        <ng-template pTemplate="footer">
            <div class="flex gap-2">
                <p-button
                    label="Отмена"
                    (click)="onCancelClick()"
                    styleClass="p-button-text"
                    [disabled]="submitting"
                />
                <p-button
                    [label]="saveLabel"
                    (click)="onSaveClick()"
                    [loading]="submitting"
                    [disabled]="form.invalid || submitting"
                />
            </div>
        </ng-template>
    }
</p-dialog>
