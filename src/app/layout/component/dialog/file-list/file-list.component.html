@if (files && files.length > 0) {
    <div class="mb-4">
        <label class="block mb-2 font-semibold">{{ label }}</label>
        <div class="flex flex-col gap-2">
            @for (file of files; track file.id) {
                <div class="flex items-center gap-4 p-3 rounded-border border border-surface">
                    <!-- Left: Icon or Image -->
                    <div class="flex-shrink-0 w-12 h-12 flex items-center justify-center">
                        @if (isImageFile(file.file_name)) {
                            <i class="pi pi-image text-3xl text-primary-500"></i>
                        } @else {
                            <i [class]="getFileIcon(file.file_name)" class="text-3xl"></i>
                        }
                    </div>

                    <!-- Middle: File name and size -->
                    <div class="flex-1 min-w-0">
                        <div class="font-semibold text-ellipsis whitespace-nowrap overflow-hidden">
                            {{ file.file_name }}
                        </div>
                        <div class="text-sm text-color-secondary">
                            {{ formatFileSize(file.size_bytes) }}
                        </div>
                    </div>

                    <!-- Right: Remove button -->
                    @if (showRemoveButton) {
                        <div class="flex-shrink-0">
                            <p-button
                                icon="pi pi-times"
                                [outlined]="true"
                                [rounded]="true"
                                severity="danger"
                                size="small"
                                (onClick)="onRemoveFile(file.id)"
                                pTooltip="Удалить файл"
                            />
                        </div>
                    }
                </div>
            }
        </div>
    </div>
}
