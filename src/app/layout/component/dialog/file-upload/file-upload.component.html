<div class="mb-4">
    <label class="block mb-2 font-semibold">{{ label }}</label>

    <!-- Desktop/Tablet: Drag & Drop -->
    <div class="hidden md:block">
        <p-fileUpload
            mode="basic"
            [multiple]="multiple"
            [auto]="false"
            [showUploadButton]="showUploadButton"
            chooseLabel="Выбрать файлы или перетащите сюда"
            (onSelect)="onFileSelect($event)"
            [maxFileSize]="maxFileSize"
            [accept]="accept"
        ></p-fileUpload>
    </div>

    <!-- Mobile: Button only -->
    <div class="block md:hidden">
        <p-fileUpload
            mode="basic"
            [multiple]="multiple"
            [auto]="false"
            [showUploadButton]="showUploadButton"
            chooseLabel="Выбрать файлы"
            (onSelect)="onFileSelect($event)"
            [maxFileSize]="maxFileSize"
            [accept]="accept"
        ></p-fileUpload>
    </div>

    <!-- Selected files list -->
    <div *ngIf="selectedFiles.length > 0" class="mt-3">
        <div class="font-semibold mb-2">Выбранные файлы:</div>
        <div class="flex flex-col gap-2">
            <div
                *ngFor="let file of selectedFiles; let i = index"
                class="flex justify-between items-center p-2 bg-gray-100 rounded"
            >
                <span class="text-sm">
                    {{ file.name }} ({{ formatFileSize(file.size) }} MB)
                </span>
                <p-button
                    icon="pi pi-times"
                    [rounded]="true"
                    [text]="true"
                    severity="danger"
                    size="small"
                    (onClick)="removeFile(i)"
                ></p-button>
            </div>
        </div>
    </div>
</div>
