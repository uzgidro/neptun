<div class="mb-4">
    <label class="block mb-2 font-semibold">{{ label }}</label>

    <div class="hidden md:block">
        <p-fileupload
            mode="basic"
            [multiple]="multiple"
            [auto]="false"
            [showUploadButton]="showUploadButton"
            chooseLabel="Выбрать файлы или перетащите сюда"
            (onSelect)="onFileSelect($event)"
            [maxFileSize]="maxFileSize"
            [accept]="accept"
        ></p-fileupload>
    </div>

    <!-- Mobile: Button only -->
    <div class="block md:hidden">
        <p-fileupload
            mode="basic"
            [multiple]="multiple"
            [auto]="false"
            [showUploadButton]="showUploadButton"
            chooseLabel="Выбрать файлы"
            (onSelect)="onFileSelect($event)"
            [maxFileSize]="maxFileSize"
            [accept]="accept"
        ></p-fileupload>
    </div>

    <!-- Selected files list -->
    @if (files.length > 0) {
        <div class="mt-3">
            <div class="font-semibold mb-2">Выбранные файлы:</div>
            <div class="flex flex-col gap-2">
                @for (file of files; track file.name; let i = $index) {
                    <div
                        class="flex justify-between items-center p-0.5 rounded"
                    >
                <span class="text-sm">
                    {{ file.name }} ({{ formatFileSize(file.size) }})
                </span>
                        <p-button
                            icon="pi pi-times"
                            [rounded]="true"
                            [text]="true"
                            severity="danger"
                            size="small"
                            (onClick)="onRemoveFile(i)"
                        ></p-button>
                    </div>
                }
            </div>
        </div>
    }
</div>
