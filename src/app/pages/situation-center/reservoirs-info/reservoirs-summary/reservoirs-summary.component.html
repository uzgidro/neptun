<div class="card">
    <h3 class="text-center mb-3">Сводка по водохранилищам</h3>

    <form [formGroup]="form" class="mb-4">
        <div class="w-full md:w-1/4">
            <app-date-picker
                label="Выберите дату"
                formControlName="date"
                [showTime]="false"
                [submitted]="submitted"
                errorMessage="Укажите дату">
            </app-date-picker>
        </div>
    </form>

    @if (data) {
        <p-table
            [value]="[data]"
            [scrollable]="true"
            scrollHeight="40vh"
            [tableStyle]="{ 'min-width': '1200px' }">

            <ng-template pTemplate="header">
                <tr>
                    <th>Организация</th>
                    <th>Приток (текущий)</th>
                    <th>Приток (предыдущий)</th>
                    <th>Приток (год назад)</th>
                    <th>Приток (два года назад)</th>
                    <th>Объем (текущий)</th>
                    <th>Объем (предыдущий)</th>
                    <th>Уровень (текущий)</th>
                    <th>Уровень (предыдущий)</th>
                    <th>Сброс (текущий)</th>
                    <th>Сброс (предыдущий)</th>
                    <th>Входящий объем</th>
                    <th>Входящий объем (прошлый год)</th>
                </tr>
            </ng-template>

            <!--      <ng-template pTemplate="body" let-reservoir>-->
            <!--        <tr>-->
            <!--          <td>{{ reservoir.organization_name }}</td>-->
            <!--          <td>{{ reservoir.income.current }}</td>-->
            <!--          <td>{{ reservoir.income.prev }}</td>-->
            <!--          <td>{{ reservoir.income.year_ago ?? 'N/A' }}</td>-->
            <!--          <td>{{ reservoir.income.two_years_ago ?? 'N/A' }}</td>-->
            <!--          <td>{{ reservoir.volume.current }}</td>-->
            <!--          <td>{{ reservoir.volume.prev }}</td>-->
            <!--          <td>{{ reservoir.level.current }}</td>-->
            <!--          <td>{{ reservoir.level.prev }}</td>-->
            <!--          <td>{{ reservoir.release.current }}</td>-->
            <!--          <td>{{ reservoir.release.prev }}</td>-->
            <!--          <td>{{ reservoir.incoming_volume }}</td>-->
            <!--          <td>{{ reservoir.incoming_volume_prev_year }}</td>-->
            <!--        </tr>-->
            <!--      </ng-template>-->
        </p-table>
    }
</div>
